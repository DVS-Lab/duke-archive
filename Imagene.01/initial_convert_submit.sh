#!/bin/bash

SUBJECTS=( 20080721_47725 20080723_47729 20080723_47731 20080724_47734 20080725_47735 20080728_47737 20080805_47748 20080812_47752 20081007_47851 20081016_47863 20081022_47878 20081024_47885 20081105_47917 20081106_47921 20081120_47945 20081203_47977 20081217_48012 20090126_48061 20090127_48066 20090203_48090 20090205_48097 20090205_48100 20090206_48103 20090209_48105 20090210_48112 20090212_48123 20090213_48129 20090218_48145 20090219_48150 20090219_48152 20090220_48156 20090220_48158 20090223_48160 20090224_48165 20090224_48167 20090225_48172 20090226_48176 20090226_48179 20090227_48184 20090303_48187 20090303_48189 20090304_48193 20090304_48196 20090305_48197 20090306_48204 20090306_48206 20090313_48232 20090323_48271 20090325_48281 20090326_48288 20090330_48297 20090331_48301 20090401_48309 20090401_48312 20090403_48321 20090406_48326 20090406_48327 20090407_48330 20090408_48335 20090408_48337 20090408_48339 20090409_48344 20090409_48349 20090410_48350 20090410_48351 )


LENGTH=${#SUBJECTS[@]}
echo $LENGTH
let LENGTH=$LENGTH-1
echo $LENGTH

N=0
for x in `seq 0 $LENGTH`; do
	
	let N=$N+1
	SUBJ_FULL=${SUBJECTS[$x]}
	SUBJ=${SUBJ_FULL:9}
	#echo $SUBJ_FULL $SUBJ
	#qsub -v EXPERIMENT=Imagene.01 bxh2analyze_orient_DVS.sh ${SUBJ_FULL} ${SUBJ} 0
	#qsub -v EXPERIMENT=Imagene.01 bxh2analyze_orient_DVS_check.sh ${SUBJ_FULL} ${SUBJ} 0 #wrote this variant to check orientation
	qsub -v EXPERIMENT=Imagene.01 bxh2analyze_orient_DVS_stc.sh ${SUBJ_FULL} ${SUBJ} 0 #wrote this to account for i-s flips (new bxh tools)

	if [ $N -eq 35 ]; then
		sleep 10m
		N=0
	fi

done


# 
# for LIST in "20090212_48123 48123" "20090213_48129 48129" "20090304_48193 48193" "20090226_48176 48176" "20090219_48150 48150" "20090227_48184 48184" "20090220_48158 48158"; do
# 	set -- $LIST
# 	SUBJ_FULL=$1
# 	SUBJ=$2
# 
# 	qsub -v EXPERIMENT=Imagene.01 bxh2analyze_orient_CR.sh ${SUBJ_FULL} ${SUBJ}
# # 	qsub -v EXPERIMENT=Imagene.01 runQA.sh ${SUBJ_FULL} ${SUBJ}
# 
# done
# 
